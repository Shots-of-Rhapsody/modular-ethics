{
  "$schema": "./schemas/scenarios.schema.json",
  "meta": { "ledger_version": "0.1", "notes": "Seed scenarios for first runs." },
  "scenarios": [ /* ... */ ]
}

{
  "meta": {
    "schema_version": "1.0",
    "ledger_version": "0.1",
    "generated_at": "2025-09-12",
    "notes": "Seed scenarios with standardized defaults, units, validators, and explicit objectives."
  },

  "defaults": {
    "units": {
      "wellbeing": "0–1 (quality-of-life weight)",
      "years_left": "years (expected remaining lifespan)",
      "probabilities": "0–1 inclusive"
    },
    "objectives": [
      "maximize_lives_saved",
      "maximize_qalys_saved",
      "respect_constraints"
    ],
    "utility_model": {
      "type": "QALY",
      "formula": "wellbeing * years_left",
      "normalize": true
    },
    "params": {
      "weights_equal": true,
      "priority_fn": "sqrt",
      "random_seed": null
    },
    "constraints": {
      "no_intentional_harm_innocent": true,
      "treat_like_cases_alike": true,
      "respect_informed_consent": true
    },
    "validators": {
      "prob_range": [0, 1],
      "nonnegative_years_left": true,
      "require_action_ids_unique": true
    }
  },

  "scenarios": [
    {
      "id": "triage-vent-v1",
      "context": { "domain": "triage", "tags": ["emergency", "resource-scarce"] },
      "agents": [
        {
          "id": "A",
          "baseline": { "wellbeing": 0.55, "years_left": 35 },
          "consent": true,
          "survival": { "vent": 0.80, "no_vent": 0.10 }
        },
        {
          "id": "B",
          "baseline": { "wellbeing": 0.55, "years_left": 35 },
          "consent": true,
          "survival": { "vent": 0.60, "no_vent": 0.55 }
        }
      ],
      "actions": [
        { "id": "a1_allocate_A", "desc": "Allocate ventilator to A" },
        { "id": "a2_allocate_B", "desc": "Allocate ventilator to B" },
        { "id": "a3_lottery",   "desc": "Random lottery (50/50)", "randomization": { "A": 0.5, "B": 0.5 } }
      ],
      "constraints": {
        "no_intentional_harm_innocent": true,
        "treat_like_cases_alike": true,
        "respect_informed_consent": true
      },
      "params": {
        "weights_equal": true,
        "priority_fn": "sqrt",
        "random_seed": null
      },
      "objectives": ["maximize_lives_saved", "maximize_qalys_saved", "respect_constraints"]
    },

    {
      "id": "evac-promise-v1",
      "context": { "domain": "evacuation", "tags": ["flood", "resource-scarce"] },
      "agents": [
        { "id": "D1", "role": "civilian", "traits": ["elderly"], "promised_first": true },
        { "id": "D2", "role": "civilian" },
        { "id": "D3", "role": "civilian" },
        { "id": "D4", "role": "civilian" },
        { "id": "D5", "role": "civilian" },
        { "id": "R",  "role": "rescuer" }
      ],
      "resources": {
        "boat_capacity": 3
      },
      "probabilities": {
        "prob_survive_if_rescued": 0.95,
        "prob_if_delayed": { "east": 0.60, "west": 0.20 }
      },
      "docks": { "east": ["D1","D2","D3"], "west": ["D4","D5"] },
      "actions": [
        { "id": "b1_east_now",            "desc": "Rescue East (D1–D3) now" },
        { "id": "b2_west_plus_one_east",  "desc": "Rescue West (D4–D5) and one from East (random)", "randomization": { "east_pick": "uniform" } },
        { "id": "b3_mixed_break_promise", "desc": "Two East (incl. D1) + one West" }
      ],
      "constraints": {
        "keep_credible_promises": { "enabled": true, "theta_lives": 1.5 },
        "no_intentional_harm_innocent": true,
        "treat_like_cases_alike": true
      },
      "params": {
        "weights_equal": true,
        "priority_fn": "sqrt",
        "random_seed": null
      },
      "objectives": ["maximize_lives_saved", "respect_constraints", "maximize_qalys_saved"]
    },

    {
      "id": "vax-allocation-v1",
      "context": { "domain": "public-health", "tags": ["vaccines", "scarcity", "distribution"] },
      "groups": [
        { "id": "H", "label": "High-risk elders",     "population": 1200, "years_left": 12, "p_infect": 0.10, "ifr": 0.08 },
        { "id": "E", "label": "Essential workers",    "population": 1800, "years_left": 40, "p_infect": 0.20, "ifr": 0.01 }
      ],
      "vaccine": { "doses": 1000, "ve_death": 0.90 },
      "actions": [
        { "id": "c1_prioritize_high_risk", "desc": "Prioritize elders (H) first, then E" },
        { "id": "c2_prioritize_essential", "desc": "Prioritize essential workers (E) first, then H" },
        { "id": "c3_split_even",           "desc": "Split doses 50/50 between H and E" }
      ],
      "constraints": {
        "treat_like_cases_alike": true,
        "no_intentional_harm_innocent": true
      },
      "params": {
        "priority_fn": "sqrt",
        "equity_weight": 1.0,
        "random_seed": null
      },
      "objectives": ["maximize_lives_saved", "maximize_qalys_saved", "respect_constraints"]
    }
  ]
}
